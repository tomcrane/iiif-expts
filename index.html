<!DOCTYPE html>
<html>
<head>
  <title>img tests</title>
</head>
<body>
  <h1>An image that works</h1>
  <img id="img1" src="712.gif" />
  
  <h1>An image that is missing</h1>
  <img id="img2" src="712.gif" />
  
  <h1>Results</h1>
  <p id="results"></p>
</body>

<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
<script>
$('img').bind('error', function () {
    $('#results').append(this.id + ' failed to load<br/>');
    var jqxhr = $.get(this.src).fail(function(e) {
      $('#results').append('<b>reason: ' + e.status + ', ' + e.statusText + '</b><br/>');
      $('#results').append('headers: <br/>' + e.getAllResponseHeaders().replace(/\n/g, '<br/>'));
  });
});

$('#img1').attr('src', 'http://iiif.io/img/logo-iiif-34x30.png');
$('#img2').attr('src', 'missing.png');
</script>

</html>
